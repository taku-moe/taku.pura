// https://codepoints.net/U+0065

import zeroWidth from "./zero_width.json";

const alphabet = [
  "a",
  "b",
  "c",
  "d",
  "e",
  "f",
  "g",
  "h",
  "i",
  "j",
  "k",
  "l",
  "m",
  "n",
  "o",
  "p",
  "q",
  "r",
  "s",
  "t",
  "u",
  "v",
  "w",
  "x",
  "y",
  "z",
];

const lowerCharacters = [
  "aâºaÃ¦É‘Î±Ğ°Ó•â¶âºâ’œêœ³êœµêœ·êœ¹êœ»êœ½ï½ğšğ‘ğ’‚ğ’¶ğ“ªğ”ğ•’ğ–†ğ–ºğ—®ğ˜¢ğ™–ğšŠğ›‚ğ›¼ğœ¶ğ°ğª",
  "á´®áµ‡á¸ƒá¸…á¸‡â„¬â’â“‘ã”ï½‚ğ›ğ‘ğ’ƒğ’·ğ“«ğ”…ğ”Ÿğ•“ğ–‡ğ–»ğ—¯ğ˜£ğ™—ğš‹ğ›bÆ€Æ‚ÆƒÆ„É“Ğ‘Ğ«Ğ¬ÑŠÑ¢Ñ£ÒŒÒáá–¯â’ğ›ğ‘ğ’ƒğ’·ğ“«ğ”Ÿğ•“ğ–‡ğ–»ğ—¯ğ˜£ğ™—ğš‹",
  "CÄ‡Ä‰Ä‹Äá¶œâ„‚â„ƒâ„­â…­â…½â’¸â“’ï½ƒğœğ‘ğ’„ğ’¸\uDD88\uDD20ğ“¬ğ•”ğ•®ğ–¼ğ˜¤ğ˜¾ğ™²ğŸ„’ğŸ„«ğŸ„­ğŸ„²cÃ§Ï²ÑÒ«á´„â’â²¥ğ½",
  "â…†dÄ‘ÆŒÉ–É—Ôá§á‘¯á‘ºá‘»á’‡â‚«â…†â…¾â’Ÿê“’ğğ‘‘ğ’…ğ’¹ğ“­ğ••ğ–½ğ—±ğ˜¥ğ™™ğš",
  "Ã¨Ã©ÃªÃ«Ä“Ä•Ä—Ä™Ä›È…È‡È©á´±áµ‰á¸™á¸›áº¹áº»áº½â‚‘â„¯â…‡â’ â“”ï½…ğğ‘’ğ’†ğ“®ğ”¢ğ•–ğ–Šğ–¾ğ—²ğ˜¦ğ™šğš",
  "ğŸfÅ¿Æ’Ê©Ö„áµ®áºâ’¡ê·ê™ê¬µï¬€ï¬ï¬‚ï¬ƒï¬„ğŸğ‘“ğ’‡ğ’»ğ“¯ğ”£ğ•—ğ–‹ğ–¿ğ—³ğ˜§ğ™›ğšá¶ á¸Ÿâ„‰ï½†ğŸğ‘“ğ’‡ğ’»ğ“¯ğ”‰ğ”£ğ•—ğ–‹ğ–¿ğ—³ğ˜§ğ™›ğš",
  "ÄÄŸÄ¡Ä£Ç§Çµá´³áµá¸¡â„Šâ’¢â“–ï½‡ğ ğ‘”ğ’ˆğ’¢ğ“–ğ“°ğ”¤ğ•˜ğ–Œğ—€ğ—´ğ˜¨ğ™œğš",
  "â„hÄ§É¦Ñ›Ò»Õ°á‚á²â„â„â’£êš•ï½ˆğ¡ğ’‰ğ’½ğ“±ğ”¥ğ•™ğ–ğ—ğ—µğ˜©ğ™ğš‘HÄ¥ÈŸÊ°á´´á¸£á¸¥á¸§á¸©á¸«áº–â‚•â„‹â„â’£â“—ï½ˆğ¡ğ’‰ğ’½ğ“±ğ”¥ğ•™ğ•³ğ–ğ—ğ—µğ˜©ğ™ğš‘",
  "IÃ¬Ã­Ã®Ã¯Ä©Ä«Ä­Ä¯Ä°ÇÈ‰È‹áµ¢á¸­á»‰á»‹â±â’¤â“˜ï½‰ğ¢ğ‘–ğ’Šğ’¾ğ“˜ğ“²ğ”¦ğ•€ğ•šğ–ğ—‚ğ—¶ğ˜ªğ™ğš’",
  "â…‰jÄ³ÇˆÇ‰Ç‹ÇŒÉ‰Ï³Ñ˜â…‰â’¥ï½Šğ£ğ‘—ğ’‹ğ’¿ğ“³ğ”§ğ•›ğ–ğ—ƒğ—·ğ˜«ğ™Ÿğš“JÄ²Ä³ÄµÇ‡ÇˆÇ‰ÇŠÇ‹ÇŒÇ°Ê²á´¶â…‰â’¥â“™â±¼ğ£ğ‘—ğ’‹ğ’¿ğ“³ğ”§ğ•›ğ–ğ—ƒğ—·ğ˜«ğ™Ÿğš“",
  "ğ¤kÄ¸Æ™ÎºÏ°ĞºÒ›ÒŸá´‹â’¦â²•ğ¤ğ‘˜ğ’Œğ“€ğ“´ğ”¨ğ•œğ–ğ—„ğ—¸ğ˜¬ğ™ ğš”ğ›‹ğ›ğœ…ğœ˜ğœ¿ğ’ğ¹ğŒğ³ğŸ†",
  "ÄºÄ¼Ä¾Ä¿Å€Ç‡ÇˆÇ‰Ë¡á´¸á¸·á¸»á¸½â‚—â„“â…¬â…¼â’§â“›ï¼¬ï½Œğ¥ğ‘™ğ’ğ“ğ“µğ”©ğ•ğ–‘ğ—…ğ—¹ğ˜­ğ™¡ğš•",
  "á´¹áµá¸¿á¹á´Má¹ƒâ‚˜â…¿â’¨â“œï½ğ¦ğ‘šğ’ğ“‚Ğ¼ğ“¶ğ”ªğ•ğ–’ğ—†ğ—ºğ˜®ğ™¢ğš–",
  "nÅ‰ÆÉ³Î·Ğ¿Õ¸Õ¼á´¨áµ°â‚¥â’©",
  "Ã²Ã³Ã´ÃµÃ¶ÅÅÅ‘Æ¡Ç’Ç«ÈÈÈ¯á´¼áµ’á»á»â‚’â’ªï½ğ¨ğ‘œğ’ğ“¸ğ”¬ğ• ğ–”ğ—ˆğ—¼ğ˜°ğ™¤ğš˜ğŸ„¾",
  "Pá´¾áµ–á¹•á¹—â‚šâ„™â’«â“Ÿï½ğ©ğ‘ğ’‘ğ“…ğ“¹ğ”­ğ•¡ğ–•ğ—‰ğ—½ğ˜±ğ™¥ğš™",
  "â’¬â“ ï½‘ğªğ‘ğ’’ğ“†ğ“ºğ”®ğ•¢ğ––ğ—Šğ—¾ğ˜²ğ™¦ğšš",
  "Å•Å—Å™È‘È“Ê³áµ£á¹™á¹›á¹Ÿâ’­â“¡ï½’ğ«ğ‘Ÿğ’“ğ“‡ğ“»ğ”¯ğ•£ğ–—ğ—‹ğ—¿ğ˜³ğ™§ğš›",
  "SÅ›ÅÅŸÅ¡È™Ë¢á¹¡á¹£â’®â“¢ï½“ğ¬ğ‘ ğ’”ğ“ˆğ“¼ğ”°ğ•¤ğ–˜ğ—Œğ˜€ğ˜´ğ™¨ğšœ",
  "Å£Å¥È›áµ—á¹«á¹­á¹¯á¹±áº—â’¯â“£ï½”ğ­ğ‘¡ğ’•ğ“‰ğ“½ğ”±ğ•¥ğ–™ğ—ğ˜ğ˜µğ™©ğš",
  "Ã¹ÃºÃ»á´œÃ¼Å©Å«Å­UÅ¯Å±Å³Æ°Ç”È•ï¼µÈ—áµáµ˜áµ¤á¹³\uFF35á¹µá¹·á»¥á»§â„†ğ“¾â’°â“¤ï½•ğ®ğ‘¢ğ’–ğ“Šğ“¾ğ”²ğ•¦ğ–šğ—ğ˜‚ğ˜¶ğ™ªğšğ®uÊ‹Ï…Ñ†Õ½á´œáµ«áµ¾â„†êœ·êŸê­ê­’",
  "áµ›áµ¥á¹½á¹¿â±½ğ¯ğ‘£ğ’—ğ“‹ğ“¿ğ”³ğ•§ğ–›ğ—ğ˜ƒğ˜·ğ™«ğšŸ",
  "ÅµÊ·áµ‚áºâ’²â“¦ï½—ğ°ğ‘¤ğ’˜ğ“Œğ”€ğ”´ğ•¨ğ–œğ—ğ˜„ğ˜¸ğ™¬ğš ",
  "Ë£áº‹áºâ‚“â’³â“§ï½˜ğ±ğ‘¥ğ’™ğ“ğ”ğ”µğ•©ğ–ğ—‘ğ˜…ğ˜¹ğ™­ğš¡ğŸ…‡",
  "Ã½Ã¿Å·È³Ê¸áºáº™á»³á»µá»·á»¹â’´â“¨ï½™ğ²ğ‘¦ğ’šğ“ğ”‚ğ”¶ğ•ªğ–ğ—’ğ˜†ğ˜ºğ™®ğš¢",
  "ZÅºÅ¼Å¾Ç±Ç²Ç³á¶»áº‘áº“áº•â„¨â’µâ“â“©ãã‘ã’ã“ã”ï½šğ³ğ‘ğ‘§ğ’›ğ’µğ“ğ“©ğ”ƒğ”·ğ•«ğ–…ğ–Ÿğ—“ğ˜‡ğ˜»ğ™¯ğš‰ğš£ğŸ„®ğŸ…‰ğ³zÆ¶Ç²Ç³È¥ÊÊ£Ê«á´¢áµ¶â’µ",
];

/**
 * Normalize a unicode string
 * @author Geoxor & Cimok
 */
export default function normalize(string: string): string {
  // Remove weird characters
  string = string.replace(/[\uD83C]/g, "");

  // Remove weird spaces
  string = string.replace(/[\u180E\u200C\u200D\u2060\uFEFF]/g, " ");

  // Remove invisible characters
  string = string.replace(/[\u200E\u200B\u061C]/g, "");

  // Remove zero widht and any spaces generated from that
  for (const char of zeroWidth) {
    string = string.replace(new RegExp(char, "g"), "").replace(/\s/g, "");
  }

  // Replace odd characters
  for (const i in alphabet) {
    const characterSet = lowerCharacters[i];

    for (const character of characterSet) {
      const regex = new RegExp(character, "g");
      string = string.replace(regex, alphabet[i]);
    }
  }

  // Remove High Surrogates
  string = string.replace(/[\ud835\u200f]/g, "");

  return string;
}
